<sly data-sly-template.rebuildingkitdetails_template="${@data,lang, flag}">
    <div data-sly-test="${data.isPublishEnvironment}" class="tp-card tp-rk-detail"
        data-languages-list="${lang.listOfLanguages}"
        data-preferred-language-api="${lang.saveAdditionalPrefLangServletUrl}"
        data-src_isPublishEnvironment="${data.isPublishEnvironment @ context='text'}"
        data-rebuilding-details-api="${data.rebuildingKitDetailsApi}" data-cti-api="${data.technicalBulletinApi}"
        data-module="Rebuildingkitdetails">
        <code class="d-none js-rebuilding-details__config">${data.i18nKeys}</code>
        
        <sly data-sly-test.selectedLanguage="${lang.selectedLanguage ? lang.selectedLanguage : 'en'}" />
        <div class="tp-rk-detail__content-wrapper d-none">
            <div class="tp-rebuilding-details__content js-rebuilding-details__content d-none"></div>
            <div id="rk-preferred-language-modal" class="modal js-language-modal tp-modal fade" tabindex="-1"
                aria-hidden="true" role="dialog">
                <div class="modal-dialog modal-dialog-centered tp-modal-dialog">
                    <div class="modal-content tp-modal-content">
                        <div class="modal-header tpmol-modal-header">
                            <div class="js-language-header tp-language-header tp-rk-preferred-language__modal-header"
                                auto_locator="headlineOverlay">${"cuhu.preferredlanguage.title" @i18n}</div>
                            <button type="button" auto_locator="closebtnOverlay"
                                class="tp-close-btn icon-Close_new tpatom-btn tpatom-btn--close tpmol-modal-header__close js-close-btn">
                                <span class="sr-only">Close</span>
                            </button>
                        </div>
                        <div class='modal-body tp-modal-body tp-rk-preferred-language__modal-body'>
                            <ul>
                                <sly data-sly-list.language="${lang.listOfLanguages}">
                                    <li>
                                        <sly data-sly-use.radio="/apps/customerhub/components/atoms/radio/radio-template.html"
                                            data-sly-call="${radio.radio_template @ data=language, activeLang=selectedLanguage, langList=lang.listOfLanguages}" />
                                    </li>
                                </sly>
                            </ul>
                        </div>
                        <div class="modal-footer tpmol-modal-footer tp-rk-preferred-language__modal-footer">
                            <button type="button"
                                class="tpatom-link tpatom-link--primary js-apply-language tp-apply-language"
                                title="Apply Language">
                                <span class="tpatom-link__text sly-text">${"cuhu.preferredlanguage.apply" @i18n}</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tp-rebuilding-details__details-row">
                <div class="tp-rebuilding-details__info-card js-rebuilding-details__info-card">
                    <div class="row">
                        <div class="col-lg-9 col-md-9 col-sm-9">
                            <h3 auto_locator="sectionTitle">${data.rkCTI @i18n}</h3>
                        </div>
                        <div class="col-lg-3 col-md-3 col-sm-3 tp-rebuilding-details__lang-link ">
                            <i class="icon icon-PDF"></i>
                            <a href="#" class="js-rk-preferred-language">${lang.listOfLanguages[selectedLanguage]}</a>
                        </div>
                    </div>
                    <div class="tp-rebuilding-details__ctidocs d-none"></div>
                </div>
            </div>
            <div class="tp-rebuilding-details__contentbottom js-rebuilding-details__contentbottom d-none"></div>
        </div>
        <div class="tp-spinner">
            <sly data-sly-use.loading="/apps/customerhub/components/atoms/loader/loader-template.html"
                data-sly-call="${loading.loader_template}" />
        </div>
    </div>