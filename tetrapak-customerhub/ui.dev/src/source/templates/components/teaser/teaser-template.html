<sly data-sly-template.teaser_template="${@data, flag}">
    <div data-module="teaser">
      <section class="tp-teaser mtp-theme--${data.mtpTheme}">
        <div data-sly-test="${data.heading}" class="tp-teaser__heading">
          <sly data-sly-use.heading="/apps/commons/components/atoms/heading/heading.html"
              data-sly-call="${heading.heading_h3_template @ headingText=data.heading}"/>
        </div>

        <div data-sly-test="${data.description}" class="tp-teaser__description col-lg-10">
          ${data.description  @ context='html'}
        </div>

        <sly data-sly-test.teaserSize="${data.teaserList.size}"/>
        <div data-paren-link-title="${data.heading}" class="tp-teaser__details row no-gutters" data-sly-list.child="${data.teaserList}">
          <sly data-sly-test.teaserType="${teaserSize > 2 ? 'teaser2' : 'teaser1'}"/>
            <div class="col-md-12 ${teaserSize > 2 ? 'col-lg-4' : 'col-lg-6' } ${((teaserSize==2 && childList.index==1) || (teaserSize==1 && childList.index==0) || childList.index==2 || childList.index==5 || childList.index==8 || childList.index==11  ) ? '' : 'teaserpad' } ${child.link.linkText ? 'teaserMargin' : 'teaserMarginL'  } ">
            <a data-sly-test="${child.link.linkUrl && child.link.linkUrl!='#' && child.fileReference}"
              href="${child.link.linkUrl}"
              class="js-teaser-analytics teaser-image-link"
              title="${child.link.linkText}"
              data-link-section="Teaser_imageClick"
              data-link-name="${child.linkText || child.title || data.heading}"
              data-paren-link-title="${data.heading}:${child.title}"
              data-anchor-type="Text Hyperlink"
              target="${child.link.linkType == 'internal' ? '_self' : '_blank'}"
            >

              <sly data-sly-test = "${!wcmmode.edit}">
                <sly data-sly-use.childImage="${'com.tetrapak.customerhub.core.models.DynamicImageModel' @ imagePath=child.fileReference , altText=child.alt}" />
                <sly data-sly-test = "${child.fileReference}"  data-sly-use.dynamicMediaImage="/apps/customerhub/components/content/dynamicimage/dynamicimage.html"
                  data-sly-call="${dynamicMediaImage.dynamicimage_template @image=childImage, className='tp-teaser__image image'}" />
              </sly>

              <sly data-sly-test = "${wcmmode.edit}">
                <img data-sly-test = "${child.fileReference}" alt="${child.alt}" src="${child.fileReference}" class="image img-responsive" />
              </sly>
            </a>
            <span  data-sly-test="${!child.link.linkUrl  || child.link.linkUrl=='#'}">
              <sly data-sly-test = "${!wcmmode.edit}">
                <sly data-sly-use.childImage="${'com.tetrapak.customerhub.core.models.DynamicImageModel' @ imagePath=child.fileReference , altText=child.alt}" />
                <sly data-sly-test = "${child.fileReference}"  data-sly-use.dynamicMediaImage="/apps/customerhub/components/content/dynamicimage/dynamicimage.html"
                  data-sly-call="${dynamicMediaImage.dynamicimage_template @image=childImage, className='tp-teaser__image image'}" />
              </sly>
              <sly data-sly-test = "${wcmmode.edit}">
                <img data-sly-test = "${child.fileReference}" alt="${child.alt}" src="${child.fileReference}" class="image img-responsive" />
              </sly>
            </span>
            <h4 data-sly-test = "${child.title}" class="tilte ${child.fileReference ? 'noTopPad' : ''}">${child.title @ context='html'}</h4>

            <p  data-sly-test = "${child.description}" class="description">${child.description @ context='html'}</p>

            <div class="link" data-sly-test="${child.link.linkText}">
              <sly data-sly-test.dataLinkSectionCTAText="${child.pwButtonTheme == 'secondary' ? 'CTA' : 'Text Hyperlink'}" />
              <a data-sly-test="${child.link.linkText}"
                  href="${child.link.linkUrl}"
                  class="tpatom-link tpatom-link--${child.pwButtonTheme == 'secondary' ? 'primary':'transparent'} js-teaser-analytics"
                  title="${child.link.linkText}"
                  data-link-section="Teaser_Text Hyperlink"
                  data-link-name="${child.link.linkText}"
                  data-paren-link-title="${data.heading}:${child.title}"
                  data-anchor-type="Text Hyperlink"
                  target="${child.link.linkType == 'internal' ? '_self' : '_blank'}"
                  >
                  <span class="tpatom-link__text sly-text">${child.link.linkText @ context='html'}<span class="nowrap-text">&#8288;<i class="icon ${child.link.linkType == 'external' ? 'icon-External_Link' : (child.link.linkType == 'download' ||  child.link.linkType == 'externalDownload' ? 'icon-Download' : 'icon-Chevron_Right')}"></i></span></span>
              </a>
            </div>
          </div>
        </div>
        <div data-sly-test="${data.viewAllLink.linkUrl && data.viewAllLink.linkUrl!='#'}" class="tp-teaser__seeAllLink text-center">
          <a href="${data.viewAllLink.linkUrl}" class="tpatom-link tpatom-link--transparent">
            <span class="tpatom-link__text sly-text">${data.viewAllLink.linkText}</span><span class="nowrap-text">&#8288;<i class="icon icon-Chevron_Right"></i></span>
          </a>
        </div>
      </section>
    </div>
  </sly>
