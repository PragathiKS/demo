<sly data-sly-template.languageselector_template="${@ data, flag}">
    <div class="modal tp-modal tp-lang-selector js-lang-modal fade" id="lang-modal" data-lang-data="${data.listOfLanguages}" data-module="LanguageSelector" tabindex="-1" role="dialog">
       <input type="hidden" id="selectedLanguage" name="selectedLanguage" value="${data.selectedLanguage}" />
       <div class="modal-dialog modal-dialog-centered tp-modal-dialog">
           <div class="modal-content tp-modal-content">
               <sly data-sly-test.closeBtnText="${data.closeBtnTextI18n @i18n, locale=data.locale}" />
               <div class="modal-header tpmol-modal-header">
                 <div role="modal heading" aria-level="2" data-sly-test="${data.headingI18n}" class="tp-lang-selector__heading">${data.headingI18n @i18n, locale=data.locale}</div>
                   <sly data-sly-use.closeButton="/apps/commons/components/atoms/closeButton/closeButton-template.html"
                       data-sly-call="${closeButton.closeButton_template @closeBtnText=closeBtnText, btnClasses='tpatom-btn--close tpmol-modal-header__close js-close-btn'}" />
               </div>
               <div class="modal-body tp-lang-selector__body">
                   <sly data-sly-test.userLanguage="${data.selectedLanguage ? data.selectedLanguage : 'en'}"/>
                   <sly data-sly-test.selectedLanguage="${data.listOfLanguages[userLanguage]}">
                       <div class="tp-lang-selector__selected-lang">
                           <i class="icon-Globe"></i>
                           <p class="tp-lang-selector__selected-lang-label d-inline">${selectedLanguage.title}</p>
                       </div>
                   </sly>
                   <div class="tp-lang-selector__lang-container">
                       <sly data-sly-list=${data.listOfLanguages}>
                           <sly data-sly-test.language="${data.listOfLanguages[item]}">
                               <button type="button" class='tp-lang-selector__btn text-left js-lang-selector__btn'
                                       data-langcode="${item}" data-link="${language.link}" datatag="internal" ctype="choose your language"
                                       ctypeone="notset" cttitle="${language.title}" aria-label="${language.title}">${language.title}
                               </button>
                           </sly>
                       </sly>
                   </div>
               </div>
           </div>
       </div>
   </div>
</sly>
