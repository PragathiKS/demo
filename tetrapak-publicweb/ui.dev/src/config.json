{
  "jcrRoot": "app/jcr_root",
  "appFolder": "app",
  "sourceFolder": "source",
  "publishFolder": "app/jcr_root/apps/settings/wcm/designs/publicweb/clientlibs",
  "demoFolder": "source/clientlib-format/apps/settings/wcm/designs/publicweb/clientlibs",
  "assetFolder": "source/assets",
  "server": "http://admin:admin@localhost:4502",
  "aem": {
    "src": {
      "atomPath": "<%= config.source %>/templates/atoms",
      "moleculePath": "<%= config.source %>/templates/molecules",
      "componentPath": "<%= config.source %>/templates/components",
      "content": "<%= config.app %>/jcr_root/content/publicweb-ux/**/.content.xml",
      "contentXML": "<%= config.app %>/jcr_root/**/.content.xml",
      "components": "<%= config.app %>/jcr_root/**/*.{html,xml,txt}",
      "models": "<%= config.app %>/jcr_root/apps/**/*.js",
      "staticassets": "<%= config.app %>/jcr_root/apps/settings/wcm/**/*.{js,css}",
      "mediaassets": "<%= config.app %>/jcr_root/**/*.{jpg,mov,png,mp4,svg}",
      "fontassets": "<%= config.app %>/jcr_root/**/*.{otf,eot,ttf,woff}",
      "jsonData": "<%= config.app %>/jcr_root/**/*.json"
    },
    "target": {
      "atomPath": "<%= config.app %>/jcr_root/apps/publicweb/components/atoms",
      "moleculePath": "<%= config.app %>/jcr_root/apps/publicweb/components/molecules",
      "componentPath": "<%= config.app %>/jcr_root/apps/publicweb/components/content"
    },
    "uxContentDescriptor": "publicweb-ux",
    "componentGroup": "tetrapak-publicweb",
    "componentGroupName": "Public Web"
  },
  "assemble": {
    "options": {
      "layouts": "*.hbs",
      "layoutdir": "<%= config.source %>/templates/layouts",
      "data": [
        "<%= config.source %>/data/*.{json,yml}",
        "<%= config.source %>/templates/components/{,*/}*.json"
      ],
      "partials": [
        "<%= config.source %>/templates/components/{,*/}*.hbs"
      ],
      "collections": [
        {
          "name": "components",
          "inflection": "component",
          "sortorder": "ascending",
          "sortby": "datetime"
        }
      ],
      "helpers": [
        "<%= config.source %>/helpers/*"
      ],
      "plugins": [
        "grunt-tasks/assemble-aem-plugin.js"
      ]
    },
    "pages": {
      "options": {
        "aemuxlib": {
          "contentRoot": "<%= config.app %>/jcr_root/content/publicweb-ux",
          "designJcrPath": "/apps/settings/wcm/designs/publicweb",
          "jcrFileRoot": "<%= config.app %>/jcr_root/",
          "wrapJsonData": true
        }
      },
      "files": [
        {
          "expand": true,
          "src": [
            "<%= config.source %>/templates/components/**/**/**/*.hbs"
          ],
          "dest": "<%= config.app %>/jcr_root/apps/publicweb/components/content"
        }
      ]
    }
  },
  "copy": {
    "jsonData": [
      {
        "expand": true,
        "flatten": true,
        "cwd": "<%= config.source %>/templates/components/",
        "src": [
          "**/data/*.json"
        ],
        "dest": "<%= config.app %>/jcr_root/apps/settings/wcm/designs/publicweb/jsonData"
      }
    ]
  },
  "webfont": {
    "src": "<%= config.source %>/assets/icons/*.svg",
    "target": "<%= config.source %>/clientlib-format/apps/settings/wcm/designs/publicweb/clientlibs/vendor.publish/iconfonts",
    "scss": {
      "target": "<%= config.source %>/assets/styles/common"
    },
    "fontFile": "publicweb-icons",
    "relativePath": "../iconfonts"
  },
  "webpack": {
    "filePath": "apps/settings/wcm/designs/publicweb/clientlibs/[name].publish/js/[name].js",
    "chunkFilePath": "apps/settings/wcm/designs/publicweb/clientlibs/[name].publish/js/[name].[chunkhash].js",
    "root": "app/jcr_root",
    "modes": {
      "dev": "development",
      "prod": "development"
    },
    "entry": {
      "global": "source/scripts/core/core.js"
    },
    "cacheGroups": {
      "vendor": {
        "test": "[\\\\/]node_modules[\\\\/]|[\\\\/]vendor\\.scss",
        "name": "vendor",
        "minSize": 0,
        "chunks": "all"
      },
      "common": {
        "testMultiple": true,
        "name": "common",
        "minSize": 0,
        "chunks": "all"
      },
      "anlyticscode": {
        "testMultiple": true,
        "name": "common",
        "minSize": 0,
        "chunks": "all"
      },
      "default_en": {
        "test": "[\\\\/]default[\\\\/]en[\\\\/]base.scss",
        "name": "default.en",
        "enforce": true,
        "chunks": "all"
      }
    },
    "componentGroups": {
      "common": [
        "source/scripts/common/",
        "source/scripts/utils/",
        "source/templates/components/contactAnchorLink/",
        "source/templates/components/analyticsglobaltagspw/",
        "source/templates/components/image/",
        "source/templates/components/banner/",
        "source/templates/components/richtext/",
        "source/templates/components/tabslist/",
        "source/templates/components/textImage/",
        "source/templates/components/teaser/",
        "source/templates/components/anchor/",
        "source/templates/components/megamenusolution/",
        "source/templates/components/findMyOffice/",
        "source/templates/components/mediaLink/",
        "source/templates/components/navigation/",
        "source/templates/components/sectionMenu/",
        "source/templates/components/contactus/",
        "source/templates/components/marketselector/",
        "source/templates/components/softconversion/",
        "source/templates/components/businessinquiryform/",
        "source/templates/components/subscriptionform/",
        "source/templates/components/searchbar/",
        "source/templates/components/searchresults/",
        "source/templates/components/managepreferences/",
        "source/templates/components/header/",
        "source/templates/components/footer/",
        "source/templates/components/errorpage/",
        "source/templates/components/breadcrumb/",
        "source/templates/components/textVideo/",
        "source/templates/components/video/",
        "source/templates/components/errorPage/",
        "source/templates/components/pagination/",
        "source/templates/components/socialsidebar/",
        "source/templates/components/stories/",
        "source/templates/components/searchlanding/",
        "source/templates/components/accordion/",
        "source/templates/components/anchorv2/",
        "source/templates/components/headerv2/",
        "source/templates/components/megamenuconfigurationv2/"
      ],
      "anlyticscode": [
        "source/templates/components/analyticscode/"
      ]
    },
    "handlebars": {
      "helpersFolder": "source/scripts/helpers",
      "commonHelpersFolder": "../../../tetrapak-commons/ui.dev/src/source/scripts/helpers",
      "currentRelativeFolder": "source/templates-hbs",
      "commonRelativeFolder": "../../../tetrapak-commons/ui.dev/src/source/templates-hbs"
    },
    "fonts": {
      "fontPath": "apps/settings/wcm/designs/commons/clientlibs/global.publish/fonts"
    },
    "clean": "app",
    "cssPath": "apps/settings/wcm/designs/publicweb/clientlibs/[name].publish/css/[name].css",
    "cssChunkPath": "apps/settings/wcm/designs/publicweb/clientlibs/[name].publish/css/[name].css"
  },
  "chunkrename": {
    "vendor": "apps/settings/wcm/designs/publicweb/clientlibs/vendor.publish/js/vendor.js",
    "common": "apps/settings/wcm/designs/publicweb/clientlibs/common.publish/js/common.js",
    "anlyticscode": "apps/settings/wcm/designs/publicweb/clientlibs/common.publish/js/anlyticscode.js",
    "default.en": "apps/settings/wcm/designs/publicweb/clientlibs/default.en.publish/js/default.js"
  },
  "clientlibs": {
    "vendor": {
      "categories": [
        "tp.publicweb.vendor"
      ],
      "basePath": "apps/settings/wcm/designs/publicweb/clientlibs/vendor.publish",
      "jsProcessor": [
        "min:gcc",
        "obfuscate=true",
        "languageIn=ECMASCRIPT5",
        "languageOut=ECMASCRIPT5"
      ],
      "paths": [
        "apps/settings/wcm/designs/publicweb/clientlibs/vendor.publish"
      ]
    },
    "anlyticscode": {
      "categories": [
        "tp.publicweb.anlyticscode"
      ],
      "basePath": "apps/settings/wcm/designs/publicweb/clientlibs/anlyticscode.publish",
      "jsProcessor": [
        "min:gcc",
        "obfuscate=true",
        "languageIn=ECMASCRIPT5",
        "languageOut=ECMASCRIPT5"
      ],
      "paths": [
        "apps/settings/wcm/designs/publicweb/clientlibs/anlyticscode.publish"
      ],
      "dependencies": [
        "granite.jquery"
      ]
    },
    "global": {
      "categories": [
        "tp.publicweb.global"
      ],
      "basePath": "apps/settings/wcm/designs/publicweb/clientlibs/global.publish",
      "jsProcessor": [
        "min:gcc",
        "obfuscate=true",
        "languageIn=ECMASCRIPT5",
        "languageOut=ECMASCRIPT5"
      ],
      "paths": [
        "apps/settings/wcm/designs/publicweb/clientlibs/global.publish",
        "apps/settings/wcm/designs/publicweb/clientlibs/default.en.publish/js",
        "apps/settings/wcm/designs/publicweb/clientlibs/common.publish"
      ]
    },
    "default_en": {
      "categories": [
        "tp.publicweb.default.en"
      ],
      "basePath": "apps/settings/wcm/designs/publicweb/clientlibs/default.en.publish",
      "jsProcessor": [
        "min:gcc",
        "obfuscate=true",
        "languageIn=ECMASCRIPT5",
        "languageOut=ECMASCRIPT5"
      ],
      "paths": [
        "apps/settings/wcm/designs/publicweb/clientlibs/default.en.publish/css"
      ]
    }
  },
  "createComponent": {
    "componentsFolder": "source/templates/components",
    "atomsFolder": "source/templates/atoms",
    "moleculesFolder": "source/templates/molecules"
  },
  "watch": {
    "assemble": {
      "files": [
        "<%= config.source %>/templates/components/**/*.hbs",
        "<%= config.source %>/templates/layouts/**/*.hbs",
        "<%= config.source %>/templates/components/**/*.json"
      ],
      "tasks": [
        "assemble",
        "copy:jsonData",
        "aemdeploy:components",
        "aemdeploy:models",
        "aemdeploy:jsonData"
      ]
    },
    "static": {
      "files": [
        "<%= config.source %>/templates-hbs/**/*.hbs",
        "<%= config.source %>/scripts/**/*.js",
        "<%= config.source %>/templates/**/*.js",
        "<%= config.source %>/styles/*.scss",
        "<%= config.source %>/templates/atoms/**/*.scss",
        "<%= config.source %>/templates/components/**/*.scss"
      ],
      "tasks": [
        "shell:lintingDev",
        "shell:webpackDev",
        "shell:removeChunkHash",
        "shell:clientlibify",
        "copy:jsonData",
        "assemble",
        "aemcomponentcopy:uxlib",
        "aemdeploy"
      ]
    },
    "aem": {
      "files": [
        "<%= config.source %>/templates/components/**/*.html"
      ],
      "tasks": [
        "aemcomponentcopy:uxlib",
        "aemdeploy:components"
      ]
    }
  }
}
