<sly data-sly-template.teaser_template="${@data, flag}">
  <div class="pw-container" data-module="teaser">
    <section class="tp-teaser pw-theme--${data.pwTheme}"  id="${data.anchorId}" title="${data.anchorTitle}" >
      <div data-sly-test="${data.heading}" class="tp-teaser__heading">
        <sly data-sly-use.heading="/apps/commons/components/atoms/heading/heading.html"
            data-sly-call="${heading.heading_h2_template @ headingText=data.heading}"/>
      </div>
      <sly data-sly-test.teaserSize="${data.teaserList.size}"/>
      <div class="tp-teaser__details row" data-sly-list.child="${data.teaserList}">
        <sly data-sly-test.teaserType="${teaserSize > 2 ? 'teaser2' : 'teaser1'}"/>
        <div class="col-md-12 ${teaserSize > 2 ? 'col-lg-4' : 'col-lg-6' } ${((teaserSize==2 && childList.index==1) || (teaserSize==1 && childList.index==0) || childList.index==2 || childList.index==5 || childList.index==8 || childList.index==11  ) ? '' : 'rightbar' } ${child.linkText ? 'teaserMargin' : 'teaserMarginL'  } ">
          
          <a data-sly-test="${child.linkPath}"
            href="${child.linkPath}"
            class="tpatom-link tpatom-link--${child.pwButtonTheme == 'secondary' ? 'primary':'transparent'} js-teaser-analytics"
            title="${child.linkText}"
            target="${child.targetBlank != null ? child.targetBlank : child.linkTarget}"
            data-link-section="Teaser${buttonLinkType}${buttonDownloadCheck}"
            data-link-name="${child.linkText}"
            data-link-title="${child.title || data.heading}"
            data-asset-name="${child.assetName}"
            data-button-link-type="${child.pwButtonTheme}"
            data-download-type="${child.pwLinkTheme}"
          >

          <sly data-sly-test = "${!wcmmode.edit}">
            <sly data-sly-test = "${child.fileReference}" data-sly-use.dynamicMediaImage="/apps/publicweb/components/content/dynamicMediaImage/dynamicMediaImage-template.html" data-sly-call="${dynamicMediaImage.dynamicMediaImage_template @imagePath=child.fileReference, altText=child.alt, componentName=teaserType, className='tp-teaser__image'}" />
          </sly>
          <sly data-sly-test = "${wcmmode.edit}">
            <img data-sly-test = "${child.fileReference}" alt="${child.alt}" src="${child.fileReference}" class="image img-responsive" />
          </sly>
          </a>
          <span  data-sly-test="${!child.linkPath}">
            <sly data-sly-test = "${!wcmmode.edit}">
              <sly data-sly-test = "${child.fileReference}" data-sly-use.dynamicMediaImage="/apps/publicweb/components/content/dynamicMediaImage/dynamicMediaImage-template.html" data-sly-call="${dynamicMediaImage.dynamicMediaImage_template @imagePath=child.fileReference, altText=child.alt, componentName=teaserType, className='tp-teaser__image'}" />
            </sly>
            <sly data-sly-test = "${wcmmode.edit}">
              <img data-sly-test = "${child.fileReference}" alt="${child.alt}" src="${child.fileReference}" class="image img-responsive" />
            </sly>
          </span>
          <p data-sly-test = "${child.title}" class="tilte ${child.fileReference ? 'noTopPad' : ''}">${child.title @ context='html'}</p>

          <p  data-sly-test = "${child.description}" class="description">${child.description @ context='html'}</p>
          
          <div class="link" data-sly-test="${child.linkText}">
            <sly data-sly-test.buttonLinkType="${child.pwButtonTheme == 'secondary' ? '_CTA' : '_Text Hyperlink'}"/>
            <sly data-sly-test.buttonDownloadCheck="${child.pwLinkTheme == 'download' ? '_Download' : ''}"/>  
            
            <a data-sly-test="${child.linkText}"
                href="${child.linkPath}"
                class="tpatom-link tpatom-link--${child.pwButtonTheme == 'secondary' ? 'primary':'transparent'} js-teaser-analytics"
                title="${child.linkText}"
                target="${child.targetBlank != null ? child.targetBlank : child.linkTarget}"
                data-link-section="Teaser${buttonLinkType}${buttonDownloadCheck}"
                data-link-name="${child.linkText}"
                data-link-title="${child.title || data.heading}"
                data-asset-name="${child.assetName}"
                data-button-link-type="${child.pwButtonTheme}"
                data-download-type="${child.pwLinkTheme}"
                >
                <span class="tpatom-link__text sly-text">${child.linkText @ context='html'}<i class="icon ${child.pwButtonTheme == 'secondary' ? 'icon-Arrow_Right_pw':'icon-Circle_Arrow_Right_pw'}"></i></span>

            </a>

          </div>

        </div>


      </div>
    </section>
  </div>
</sly>
