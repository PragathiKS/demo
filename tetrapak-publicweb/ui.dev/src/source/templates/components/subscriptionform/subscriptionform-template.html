<sly data-sly-template.subscriptionform_template="${@data, componentName, downloadPath, assetName, parentComponent}">

    <sly data-sly-test.firstnameid="${'{0}{1}' @ format=['firstName-', componentName, ')']}" />
    <sly data-sly-test.lastnameid="${'{0}{1}' @ format=['lastName-', componentName, ')']}" />
    <sly data-sly-test.emailid="${'{0}{1}' @ format=['email-', componentName, ')']}" />

  <!-- Modal -->
  <div class="pw-subscriptionForm modal tp-modal js-subscription-modal ${componentName} fade" data-module="Subscriptionform" tabindex="-1" role="dialog">
    <input type="hidden" class="ComponentNameSubscribe" name="ComponentNameSubscribe" value="${componentName}">
    <input type="hidden" class="parentComponentSubscribe" name="parentComponentSubscribe" value="${parentComponent}">
    <div class="modal-dialog modal-dialog-centered tp-modal-dialog modal-lg">
      <div class="modal-content tp-modal-content pw-padding--regular pw-margin--regular">
        <div class="modal-header pw-subscription__header" auto_locator="subscriptionSectionHeader">
          <h2 role="heading" class="pw-subscription__header__heading heading_${componentName}"
            auto_locator="headingFontStep1">
            <span class="pw-subscription__modalTitle">${data.headingSubscription}</span>
            <span class="pw-subscription__thankYouTitle">${data.formConfig.thankyouHeading @ context='html'}</span>
          </h2>
          <input type="hidden" name="heading_${componentName}" id="heading_${componentName}" value="${data.heading}">
          <button type="button" class="tp-close-btn icon-Close_pw pw-subscription__header__close js-close-btn"
            aria-label="close button" title="close button"></button>
        </div>

        <div class="modal-body pw-subscription__body pw-sf_body_${componentName}"
          auto_locator="subscriptionSectionBody">
          <div id="${data.anchorId}" title="${data.anchorTitle}">
            <div id="sfUs" class="pw-container" data-locator="Subscriptionform">
              <div class="pw-subscriptionForm-form" id="pw-sfUs"
                auto_locator="SubscriptionFormStepsWrapper">
                <div class="tab-content">
                  <div class="i18n-keys d-none"
                    data-i18n="${'pw.form.businessenq.services' @i18n, locale = 'en'}, ${'pw.form.businessenq.packaging' @i18n, locale = 'en'}, ${'pw.form.businessenq.processing' @i18n, locale = 'en'}, ${'pw.form.managepreferences.innovation' @i18n, locale = 'en'},${'pw.form.contactus.sustainability' @i18n, locale = 'en'},${'pw.form.businessenq.endtoendsolution' @i18n, locale = 'en'}">
                  </div>
                  <form class="pw-form pw-form-subscriptionForm-${componentName}" accept-charset="UTF-8" data-sf-api-servlet="${data.apiUrl}" data-sf-pardot-url="${data.pardotUrlSubscription}" data-sf-china-pardot-url="${data.pardotChinaUrlSubscription}" data-sf-countryCode="${data.siteCountry}" data-sf-langCode="${data.siteLanguage}" data-sf-marketSiteSubscribed="${data.marketSiteSubscribed}"  autocomplete="off">
                    <input type="text" name="pardot_extra_field_${componentName}" id="pardot_extra_field_${componentName}" class="d-none" tabindex="-1" title="padot input field for subscription" />
                    <!--step start-->
                    <div class="sf-tab-pane active" role="tabpanel" id="sf-step-1">
                      <div class="tab-content tab-content-steps">
                        <div class="row no-gutters">
                          <div class="col-lg-12" auto_locator="subscriptionFormLeftContainerStep1">
                            <div class="row no-gutters">
                              <div class="pw-subscriptionForm-form__subscription-email-label">
                                <p auto-locator="subscriptionFormEmailHeader">${'pw.form.heading.contactinformation' @i18n}</p>
                              </div>
                            </div>
                            <div class="row no-gutters">
                              <div class="col-md-12 col-lg-8 formfield" auto_locator="subscriptionFormListContainerStep1">
                                <sly data-sly-use.inputField="/apps/publicweb/components/molecules/inputfield/inputfield-template.html" data-sly-call="${inputField.inputfield_template @ inputType='email', id=emailid, label='pw.form.label.email' , placeholder='pw.form.label.emailPlaceholder', required=true, error='pw.form.errormsg.invalidemail', autoLocatorInput='emailInput', autoLocatorLabel='emailHelpText', inputClass='validateForTags'}"></sly>
                              </div>
                            </div>
                            <div class="row no-gutters">
                              <div class="col-md-12 col-lg-8 formfield" auto_locator="subscriptionFormInputStep2">
                                <sly
                                  data-sly-use.inputField="/apps/publicweb/components/molecules/inputfield/inputfield-template.html"
                                  data-sly-call="${inputField.inputfield_template @ inputType='text', id=firstnameid, label='pw.form.label.firstName', error='pw.form.errormsg.firstname', required=true, autoLocatorInput='firstNameInput', autoLocatorLabel='firstNameHelpText', inputClass='validateForTags'}">
                                </sly>
                              </div>
                            </div>
                            <div class="row no-gutters">
                              <div class="col-md-12 col-lg-8 formfield" auto_locator="subscriptionFormInputStep2">
                                <sly
                                  data-sly-use.inputField="/apps/publicweb/components/molecules/inputfield/inputfield-template.html"
                                  data-sly-call="${inputField.inputfield_template @ inputType='text', id=lastnameid, label='pw.form.label.lastName', error='pw.form.errormsg.lastname', required=true, autoLocatorInput='lastNameInput', autoLocatorLabel='lastNameHelpText', inputClass='validateForTags'}">
                                </sly>
                              </div>
                            </div>
                            <div class="row no-gutters">
                              <div class="col-md-12 col-lg-8 formfield">
                                <div class="country-field country" data-country-name-label="${'pw.form.country' @i18n}">
                                  <label for="country" auto_locator="subsFormCountryHelpText">${'pw.form.label.country' @
                                    i18n}</label>
                                  <div class="pw-form__dropdown dropdown text-left">
                                    <button class="btn dropdown-toggle pw-form__dropdown__toggle text-left" type="button" data-toggle="dropdown" aria-haspopup="true" data-flip="false"
                                      auto_locator="subsFormCountrySelectDropdown" aria-expanded="false">
                                      <span>${'pw.form.label.countryPlaceholder' @ i18n}</span>
                                      <i class="icon icon-Arrow_Right_pw"></i></button>
                                    </button>
                                    <div class="dropdown-menu pw-form__dropdown__menu"
                                      data-sly-list.country="${data.countryOptions}">
                                      <a href="#" class="dropdown-item" data-country="${country.key}"
                                        data-countrytitle="${country.value}">
                                        ${country.value}
                                      </a>
                                    </div>
                                    <input type="hidden" name="countryTitle" class="form-control validateForTags"
                                      id="country" required>
                                  </div>
                                  <div data-country-error-msg="${'pw.form.errormsg.country' @i18n}" class="errorMsg">
                                    ${'pw.form.errormsg.country' @i18n}</div>
                                </div>
                              </div>
                            </div>
                            <div class="row no-gutters">
                              <div class="formfield consentDiv">
                                <div class="form-group formfield">
                                  <div class="checboxField">
                                    <label class="consentlabel subscription-checkbox-label" for="consentcheckbox${componentName}">
                                      <input id="consentcheckbox${componentName}" class="form-control tpatom-checkbox__input float-left" type="checkbox" name="consent">
                                      <i class="tpatom-checkbox__icon icon icon-Tick float-left"></i>
                                      ${data.consentConfig.marketingConsent @ context='html'}</label>
                                  </div>
                                  <div class="errorMsg consent-error">${'pw.form.errormsg.marketingconsent' @i18n}
                                  </div>
                                </div>
                              </div>
                              <div class="formfield">
                                <p>${data.consentConfig.privacyPolicy @ context='html'}</p>
                              </div>
                            </div>
                            <div class="row no-gutters">
                              <div class="serviceError">${'pw.form.errormsg.serviceerror' @i18n}</div>
                            </div>
                            <div class="row no-gutters subscribeButton button-group">
                              <sly
                                data-sly-use.nextButton="/apps/publicweb/components/atoms/tabbutton/tabbutton-template.html"
                                data-sly-call="${nextButton.tabbutton_template @ btnText='pw.form.button.submit', btnTarget='#sf-step-final', btnType='submit', customClasses='previewLinkBtn', autoLocator='subscriptionFormNextButtonStep'}" />
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!--step start-->
                    <div class="sf-tab-pane" role="tabpanel" id="sf-step-final" auto_locator="subscriptionFormListContainerStepFinal">
                      <div class="row no-gutters thankyou">
                        <div class="col-md-12 text-center" auto_locator="sfUsThankYouMessage">
                          <div class="descriptionTextThankyou" auto_locator="sfUsThankYouPageDescription">
                            ${data.formConfig.thankyouDescriptionText @ context='html'}
                          </div>
                          <sly data-sly-test="${data.moreButtonActionSubscription && data.moreButtonLabelSubscription}">
                          <div class="thankyouCTA">
                            <a href="${data.moreButtonActionSubscription}" class="tpatom-link tpatom-link--primary thankyouTarget text-left" data-link-section="News Letter Hyperlink" data-link-name="${data.moreButtonLabelSubscription}" data-button-link-type="link" data-asset-name="${data.moreButtonActionSubscription}" data-parent-title="" data-anchor-type="Hyperlink">
                              <span class="tpatom-link__text sly-text text-left">${data.moreButtonLabelSubscription}</span><span class="nowrap-text">&NoBreak;<i class="icon icon-Arrow_Right_pw"></i></span>
                              </a>
                          </div>
                          </sly>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- END: Modal -->
</sly>